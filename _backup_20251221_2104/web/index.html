<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sports Prob Engine</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 16px; }
    .row { display: flex; gap: 12px; flex-wrap: wrap; align-items: center; margin-bottom: 12px; }
    select, input, button { padding: 8px; font-size: 14px; }
    button { cursor: pointer; }
    .meta { color: #444; margin: 8px 0 16px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { border: 1px solid #ddd; padding: 8px; font-size: 14px; vertical-align: top; }
    th { background: #f5f5f5; text-align: left; }
    .err { color: #b00020; white-space: pre-wrap; }
    .pill { display:inline-block; padding:2px 8px; border-radius:999px; background:#eee; font-size:12px; }
    .small { font-size: 12px; color:#555; }
  </style>

<link rel="icon" href="/icons/favicon.ico" sizes="any">
<link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32.png">
<link rel="apple-touch-icon" sizes="180x180" href="/icons/icon-180.png">
<link rel="manifest" href="/icons/site.webmanifest">
<meta name="theme-color" content="#0b1723">

</head>
<body>
  <h1>Probabilidades de Jogos (Ao Vivo)</h1>

  <div class="row">
    <label>Competição:</label>
    <select id="code"></select>

    <label>Mostrar até:</label>
    <input id="maxMatches" type="number" min="1" max="50" value="10" style="width:90px" />
    <span class="small">jogos</span>

    <label>Filtro (Chance Casa ≥):</label>
    <input id="minHome" type="number" min="0" max="100" value="0" style="width:90px" />
    <span class="small">%</span>

    <label>Proteção (TTL):</label>
    <input id="ttl" type="number" min="0" max="600" value="60" style="width:90px" />
    <span class="small">seg</span>

    <button id="btnLoad">Carregar</button>
    <button id="btnSave">Salvar JSON</button>
    <button id="btnAuto">Auto: OFF</button>
  </div>

  <div class="meta" id="meta"></div>
  <div class="err" id="err"></div>

  <table>
    <thead>
      <tr>
        <th>Data</th>
        <th>Jogo</th>
        <th>Média de gols (Casa)</th>
        <th>Média de gols (Fora)</th>
        <th>Chance Casa</th>
        <th>Chance Empate</th>
        <th>Chance Fora</th>
        <th>Placares prováveis</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody id="rows"></tbody>
  </table>

  <script src="/web/app.js"></script>

<script>
  // PWA: registra Service Worker (não cacheia as rotas da API por padrão)
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker.register("/sw.js").catch(() => {});
    });
  }
</script>

</body>
</html>
